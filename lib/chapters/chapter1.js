// Generated by CoffeeScript 1.12.2
(function() {
  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  window._chapters = {};

  _chapters.Chapter1 = (function(superClass) {
    extend(Chapter1, superClass);

    function Chapter1(ui) {
      var enemyUnits, map, playerPositions, terrainMapping, tiles;
      this.ui = ui;
      enemyUnits = [
        new _enemy.Fighter({
          pos: new Position(4, 2),
          level: 1
        }), new _enemy.Fighter({
          pos: new Position(5, 4),
          level: 1
        }), new _enemy.Archer({
          pos: new Position(8, 3),
          level: 1
        }), new _enemy.Soldier({
          pos: new Position(6, 5),
          level: 2,
          aiType: _unit.aiType.halt,
          items: [new _item.SteelLance().letDrop()]
        }), new _enemy.Soldier({
          pos: new Position(7, 5),
          level: 2,
          aiType: _unit.aiType.halt
        }), new _enemy.Mercenary({
          pos: new Position(7, 8),
          level: 1
        }), new _enemy.Fighter({
          pos: new Position(6, 7),
          level: 1
        }), new _enemy.Archer({
          pos: new Position(6, 15),
          level: 1,
          aiType: _unit.aiType.halt
        }), new _enemy.Archer({
          pos: new Position(7, 14),
          level: 1,
          items: [new _item.IronBow(), new _item.KillerBow().letDrop()]
        }), new _enemy.Fighter({
          pos: new Position(1, 8),
          level: 1
        }), new _enemy.Fighter({
          pos: new Position(3, 10),
          level: 1
        }), new _enemy.Mercenary({
          pos: new Position(3, 12),
          level: 1
        }), new _enemy.Mercenary({
          pos: new Position(6, 12),
          level: 1
        }), new _enemy.Fighter({
          pos: new Position(3, 15),
          aiType: _unit.aiType.halt,
          boss: true,
          level: 5,
          items: [new _item.HandAxe().letDrop()]
        })
      ];
      this.enemyTeam = new _team.EnemyTeam(enemyUnits, {
        defaultName: 'Bandit'
      });
      terrainMapping = {
        0: _terrain.Plain,
        1: _terrain.Rocks,
        2: _terrain.Forest
      };
      tiles = [[0, 0, 0, 2, 2, 1, 1, 2, 2, 1, 1, 1, 0, 2, 1, 1], [0, 0, 0, 0, 2, 1, 1, 2, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 2, 1, 1, 0, 0, 0, 0, 2, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 2, 0, 0, 2], [0, 0, 0, 2, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0], [0, 0, 2, 0, 0, 1, 0, 0, 0, 2, 1, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 2, 0, 0, 2], [0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 2, 1], [1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 2, 0, 0, 2, 2, 2], [1, 1, 2, 2, 2, 1, 1, 2, 2, 2, 1, 1, 2, 1, 1, 1]];
      playerPositions = [[2, 1], [1, 0], [0, 1], [1, 2]];
      this.origin0 = new Position(0, 4 * this.ui.tw);
      this.victoryCondition = _map.VICTORY_CONDITION.ROUT;
      map = new _map.Map(tiles, terrainMapping, playerPositions);
      Chapter1.__super__.constructor.call(this, this.ui, map);
    }

    Chapter1.prototype.doScrollSequence = function(callback) {
      var f;
      f = (function(_this) {
        return function() {
          return _this.ui.scrollTo(new Position(0, 0), callback, .07);
        };
      })(this);
      return setTimeout(f, 1000 / this.ui.speedMultiplier);
    };

    return Chapter1;

  })(_map.Chapter);

}).call(this);
